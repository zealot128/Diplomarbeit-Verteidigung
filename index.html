<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--[if lt IE 7]> <html class="no-js ie6" lang="en"> <![endif]-->
<!--[if IE 7]> <html class="no-js ie7" lang="en"> <![endif]-->
<!--[if IE 8]> <html class="no-js ie8" lang="en"> <![endif]-->
<!--[if gt IE 8]> ><! <![endif]-->
<html class='no-js' lang='de'>
<!-- <![endif] -->
<head>
<meta charset='utf-8' />
<meta content='IE=edge,chrome=1' http-equiv='X-UA-Compatible' />
<title>
Verteidigung
|
Testgetriebene Softwareentwicklung von Webserver-Anwendungen auf Basis von Ruby on Rails
</title>
<meta content='A jQuery library for modern HTML presentations' name='description' />
<meta content='Caleb Troughton' name='author' />
<meta content='width=1024, user-scalable=no' name='viewport' />
<!-- Core and extension CSS files -->
<link href='deckjs/core/deck.core.css' rel='stylesheet' />
<link href='deckjs/extensions/goto/deck.goto.css' rel='stylesheet' />
<link href='deckjs/extensions/menu/deck.menu.css' rel='stylesheet' />
<link href='deckjs/extensions/navigation/deck.navigation.css' rel='stylesheet' />
<link href='deckjs/extensions/status/deck.status.css' rel='stylesheet' />
<link href='deckjs/extensions/hash/deck.hash.css' rel='stylesheet' />
<!-- Theme CSS files (menu swaps these out) -->
<link href='deckjs/themes/style/web-2.0.css' id='style-theme-link' rel='stylesheet' />
<link href='deckjs/themes/transition/horizontal-slide.css' id='transition-theme-link' rel='stylesheet' />
<link href='css/screen.css' media='screen, projection' rel='stylesheet' type='text/css' />
<!-- Custom CSS just for this page -->
<script src='js/modernizr.custom.js'></script>
</head>
<body class='deck-container'>
<section class='slide' id='title-slide'>
<h1>
Verteidigung
<div class='subtitle'>Testgetriebene Softwareentwicklung von Webserver-Anwendungen auf Basis von Ruby on Rails</div>
</h1>
</section>
<section class='slide' id='toc-slide'>
<h2>Inhalt</h2>
<div id='toc'></div>
</section>
<section class='slide toc'>
<h1>Motivation</h1>
</section>
<section class='slide' id='pludoni'>
<h2>Die pludoni GmbH</h2>
<ul>
<li>2008 gegründet</li>
<li>Kunden hauptsächlich KMU</li>
<li>bietet Plattformen und Rahmenbedingungen für Bewerberempfehlungen</li>
<li>z.B. ITsax.de, ITmitte.de und MINTsax.de</li>
</ul>
<div class='image-list'>
<img src='imgs/itsax.png' />
<img src='imgs/itmitte.png' />
<img src='imgs/mintsax.png' />
</div>
</section>
<section class='slide'>
<h2>Motivation</h2>
<ul>
<li>(Legacy-) Code verschiedener Programmierer</li>
<li>kleines Team &rarr; begrenzte Ressourcen für QM-QS</li>
<li>Tests im Nachhinein sehr aufwändig</li>
<li>zunehmene Komplexität, wenige Tests &rarr; Regressionsfehler</li>
</ul>
</section>
<section class='slide'>
<h2>Fragestellung</h2>
<ul class='slide'>
<li>
Testgetriebene Entwicklung
<ul>
<li>Effektive Möglichkeit zur Qualitätssicherung?</li>
<li>Code-Qualität nachhaltig verbessert?</li>
<li>Ruby/Rails geeignet?</li>
</ul>
</li>
</ul>
</section>

<section class='slide toc' id='theoretisch'>
<h1>Theoretische Grundlagen</h1>
</section>
<section class='slide'>
<h2 class='subtitle'>
Testgetriebene Entwicklung
<br />
von Webserver-Anwendungen
<br />
auf Basis von <u>Ruby on Rails</u>
</h2>
</section>
<section class='slide'>
<h1>Ruby &amp; Rails</h1>
</section>
<section class='slide toc'>
<h2>Ruby</h2>
<div class='image-wrap side-image'><img src='imgs/ruby.gif'/><div class='caption'>ruby-lang.org</div></div>
<ul>
<li>Yukihiro Matsumoto, 1995 v.0.95, 2011 v.1.9.3</li>
<li>Vielzahl von Implementierungen: MRI, JRuby, Rubininus, <strike>IronRuby</strike>, BlueRuby</li>
<li>Anstehende ISO-Standardisierung (ISO/IEC 30170)</li>
<!-- Lesbarkeit, hohes Ziel -->
</ul>
</section>
<section class='slide'>
<h2>Features</h2>
<ul>
<li>dynamisch typisierte Sprache (Skriptsprache)</li>
<li>Paradigmen: OOP, funktional, prozedural</li>
<li><em>meta programming</em> &rarr; generische Programmierung</li>
<li>Buzzwords: Reflexion, interne DSL, Mixins/Module, Duck-Typing, Continuations...</li>
<!-- erlaubt sehr generische und platzsparende Programmierung -->
<li>
Ziel: Sprache für Menschen, nicht (nur) Maschinen
<ul class='slide'>
<li>Wenige Sonderzeichen</li>
<li>
Sprechende Syntax, z.B.
<div class="highlight"><pre><span class="mi">5</span><span class="o">.</span><span class="n">times</span> <span class="k">do</span>
  <span class="n">run_program</span>
<span class="k">end</span>
</pre></div>
</li>
</ul>
</li>
</ul>
</section>
<!-- Zu ruby man ebenfalls mehrere Vortraege halten -->
<section class='slide'>
<div class='image-wrap side-image'><img src='imgs/rails.png'/><div class='caption'>rubyonrails.org</div></div>
<h2>Ruby on Rails</h2>
<!-- Etwas ueber Rails sagen: 2006? -->
<!-- MVC Web-Framework. Unterst -->
<ul>
<li>Full-Stack Framework: Webserver, Datenbankabstraktion, Templating, Testframework, Routing</li>
<!-- Webserver, Templating, Datenbankengine -->
<li>Konzepte: MVC-Muster, DRY, Convention over Configuration</li>
<!-- was ist CoC, Beispiel, DRY -> Definition der Spalten -->
<li>Gems</li>
<!-- Große Auswahl von Gems in einer aktiven Community -> Github Forks -->
<li>Testen hoch priorisiert</li>
<!-- Testen hat in der RoR C einen hohen Stellenwert -->
<!-- Testtools liegen schon bei -->
</ul>
</section>
<section class='slide'>
<h2 class='subtitle'>
<u>Testgetriebene Entwicklung</u>
<br />
von Webserver-Anwendungen
<br />
auf Basis von Ruby on Rails
</h2>
</section>
<section class='slide toc'>
<h2>Test</h2>
<blockquote cite='http://oxforddictionaries.com/definition/test'>
<p>to test: take measures to check the quality, performance, or reliability of sth. [...]</p>
<cite>Oxford Dictionary</cite>
</blockquote>
</section>
<section class='slide'>
<h2>Automatisierte dynamischer Software-Test</h2>
<ul>
<!-- Was ist test? Spezif. von Erwartungen -->
<li>Automatisiert &ndash; manuell</li>
<!-- Test wird vollstaendig vom Computer ausgefuehrt -> Geschwindigkeitsgewinn -->
<li>dynamisch &ndash; statisch</li>
<!-- Programmcode wird ausgefuehrt, oder geskriptet, anst -->
<li>Unittest für TDD relevant</li>
</ul>
</section>
<section class='slide toc'>
<h2>Testgetriebene Entwicklung (TDD)</h2>
<ul>
<li>iterative Entwicklungstechnik</li>
<li>bekannt durch eXtreme Programming (XP)</li>
<li>
Ablauf
<ol>
<li>Test schreiben, der fehlschlägt</li>
<li>Einfachste Implementation zum Bestehen des Tests</li>
<li>Refaktorisieren</li>
</ol>
</li>
</ul>
</section>
<section class='slide red' id='red'>
<h2>Red</h2>
<div class="highlight"><pre><span class="k">def</span> <span class="nf">test_addition</span>
  <span class="n">assert_equal</span> <span class="mi">3</span><span class="p">,</span> <span class="no">Adder</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="k">end</span>
</pre></div>
<pre class='test-output'>1) Error:&#x000A;test_addition(TestAdder):&#x000A;NameError: uninitialized constant TestAdder::Adder&#x000A;./test/test_adder.rb:3:in `test_addition'&#x000A;<strong class='red'>1 tests, 0 assertions, 0 failures, 1 errors</strong>&#x000A;</pre>
</section>
<section class='slide green' id='green'>
<h2>Green</h2>
<div class="highlight"><pre><span class="k">class</span> <span class="nc">Adder</span>
  <span class="k">def</span> <span class="nc">self</span><span class="o">.</span><span class="nf">add</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">)</span>
    <span class="k">return</span> <span class="mi">3</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div>
<pre class='test-output'><strong class='green'>1 tests, 1 assertions, 0 failures, 0 errors</strong>&#x000A;&#x000A;</pre>
</section>
<section class='slide refactor' id='refactor'>
<h2>Refactor</h2>
<div class="highlight"><pre><span class="k">class</span> <span class="nc">Adder</span>
  <span class="k">def</span> <span class="nc">self</span><span class="o">.</span><span class="nf">add</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">)</span>
    <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div>
<pre class='test-output'>Finished in 0.000342 seconds.&#x000A;&#x000A;<strong class='green'>1 tests, 1 assertions, 0 failures, 0 errors</strong></pre>
</section>
<section class='slide' id='circle'>
<h2>Kreislauf</h2>
<div class='image-wrap normal-image'><img src='imgs/rgr.jpg'/><div class='caption'>Agile in a Flash</div></div>
</section>
<section class='slide red'>
<h2>Red</h2>
<div class="highlight"><pre><span class="k">def</span> <span class="nf">test_adder_3_args</span>
  <span class="n">assert_equal</span> <span class="mi">4</span><span class="p">,</span> <span class="no">Adder</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="k">end</span>
</pre></div>
<pre class='test-output'>1) Error: test_adder_3_args(TestAdder):&#x000A;ArgumentError: wrong number of arguments (3 for 2)&#x000A;    lib/adder.rb:2:in `add'&#x000A;&#x000A;<strong class='red'>2 tests, 1 assertions, 0 failures, 1 errors, 0 skips</strong></pre>
</section>
<section class='slide green'>
<h2>Green</h2>
<div class="highlight"><pre><span class="k">class</span> <span class="nc">Adder</span>
  <span class="k">def</span> <span class="nc">self</span><span class="o">.</span><span class="nf">add</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">a</span> <span class="o">+</span> <span class="n">b</span> <span class="o">+</span> <span class="n">c</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div>
<pre class='test-output'><strong class='green'>2 tests, 2 assertions, 0 failures, 0 errors</strong>&#x000A;</pre>
</section>
<section class='slide refactor'>
<h2>Green</h2>
<div class="highlight"><pre><span class="k">class</span> <span class="nc">Adder</span>
  <span class="k">def</span> <span class="nc">self</span><span class="o">.</span><span class="nf">add</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
    <span class="n">args</span><span class="o">.</span><span class="n">sum</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div>
<pre class='test-output'><strong class='green'>2 tests, 2 assertions, 0 failures, 0 errors</strong>&#x000A;&#x000A;</pre>
</section>
<section class='slide'>
<h2>Vorteile</h2>
<ul>
<li>
Code und Test entstehen im Einklang
<ul>
<li>Code muss sich Test anpassen und nicht umgekehrt</li>
<li>&rarr; übersichtlichere Methoden</li>
</ul>
</li>
<li>hohe Testabdeckung</li>
<li>ermöglicht sichere Refaktorisierungen</li>
<li>sofortiges Feedback</li>
</ul>
</section>


<section class='slide toc' id='results'>
<h1>Ergebnisse</h1>
</section>
<section class='slide'>
<h2>Status der Entwicklung</h2>
<ul>
<li>Entwicklung von www.it-jobs-und-stellen.de nicht abgeschlossen &rarr; Repriorisierung</li>
<li>
Allerdings signifikante Teile extrahiert und in Produktion:
<ul>
<li>Feedimport</li>
<li>Stellensuche (www.empfehlungsbund.de)</li>
</ul>
</li>
</ul>
</section>
<section class='slide'>
<h2>Testabdeckung</h2>
<img src='imgs/coverage.png'/>
</section>
<section class='slide'>
<h2>Codemenge</h2>
<img src='imgs/loclot.png'/>
</section>
<section class='slide'>
<h2>Smells</h2>
<img src='imgs/itjobs-smells.png'/>
</section>
<section class='slide' id='benchmark'>
<h2>Benchmark</h2>
<img src='imgs/complexity.png'/>
</section>

<section class='slide toc' id='fazit'>
<h1>Fazit</h1>
</section>
<section class='slide'>
<blockquote>
<p>
Testgetriebene Entwicklung
<ul>
<li>Effektive Möglichkeit zur Qualitätssicherung?</li>
<li>Code-Qualität nachhaltig verbessert?</li>
<li>Ruby/Rails geeignet?</li>
</ul>
</p>
</blockquote>
</section>
<section class='slide'>
<h2>Lessons learned</h2>
<ul>
<li>Anfangs hohe Disziplin notwendig</li>
<li>Wissen und Erfahrung notwendig über Software-Design</li>
<li>
Einige Sachverhalte scheinbar nicht testbar (&rarr; Test-Doubles),
<br />
manche Aspekte nicht testbar (Usability, Sicherheit, Nebenläufigkeit)
</li>
<li>Code-Qualität der Tests enscheidend für langfristigen Erfolg</li>
<li>Kein Allheilmittel</li>
</ul>
</section>
<section class='slide'>
<h2>Aussagen</h2>
<ul>
<li>Studien und Erfahrung aus der Arbeit &rarr; besserer Code beim Einsatz von TDD</li>
<li>Effektivität abhängig von vorhanden Werkzeugen: parallelisierbare Testrunner, Code-Metriken, Test-Frameworks, Autotest-Runner</li>
<li>Ruby on Rails für (testgetriebene) Web-Anwendungen ideal</li>
<li>
<strong>relevante Entwicklungstechnik, die jeder Programmierer lernen (und üben) sollte</strong>
</li>
</ul>
</section>
<section class='slide'>
<h2>Ausblick</h2>
<ul>
<li>Akzeptanztests als treibende Kraft (ATTD)</li>
<li>psychologische Auswirkungen von TDD &rarr; kleine Belohnungen, fast wie ein Spiel</li>
<li>weitere Fallstudien zu TDD mit anderen Programmierplattformen</li>
</ul>
</section>
<section class='slide'>
<h1>Fragen?</h1>
</section>

<section class='slide'>
<h1>FAQ</h1>
</section>
<section class='slide'>
<h2>Prinzip des Empfehlungssystems</h2>
<img src='imgs/empfehlungscode.png'/>
</section>
<section class='slide'>
<h2>MVC von Rails</h2>
<img src='imgs/mvc.png'/>
</section>
<section class='slide'>
<h2>TDD + Design</h2>
<img src='imgs/ablauf.png'/>
</section>


<!-- Elements -->
<a class='deck-next-link' href='#' title='Weiter'>→</a>
<a class='deck-prev-link' href='#' title='Zurück'>&#8592;</a>
<p class='deck-status'>
<span class='deck-status-current'></span>
/
<span class='deck-status-total'></span>
</p>
<a class='deck-permalink' href='.' title='Permalink to this slide'>#</a>
<script src='js/jquery.min.js'></script>
<script src='deckjs/core/deck.core.js'></script>
<script src='deckjs/extensions/menu/deck.menu.js'></script>
<script src='deckjs/extensions/goto/deck.goto.js'></script>
<script src='deckjs/extensions/status/deck.status.js'></script>
<script src='deckjs/extensions/navigation/deck.navigation.js'></script>
<script src='deckjs/extensions/hash/deck.hash.js'></script>
<script src='js/main.js'></script>
<div id='author'>Stefan Wienert</div>
</body>
</html>
